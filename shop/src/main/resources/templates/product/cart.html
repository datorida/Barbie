<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/common :: head('장바구니')">
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<script th:src="@{/js/jquery-3.4.1.min.js}"></script>


</head>
<body>
<header th:replace="fragments/common :: copy"></header>

    <div class="container">
        <h2>장바구니</h2>
        
        <!-- 로그인 상태인 경우에만 보이는 내용 -->
        <div th:if="${l/checkLogin}">
            <p th:text="'안녕하세요, ' + ${username} + '님!'"></p>
            <!-- 회원의 장바구니 상품 목록 표시 -->
            <table>
                <tr>
                    <th>상품명</th>
                    <th>수량</th>
                    <th>가격</th>
                </tr>
                <tr th:each="cartItem : ${cartlist}">
                    <td th:text="${cartItem.product.product_name}"></td>
                    <td th:text="${cartItem.counts}"></td>
                     <td th:text="${cartItem.product.price"></td>
                    <td th:text="${cartItem.product.price * cartItem.counts}"></td>
                </tr>
            </table>
        </div>
        
        
        
        
        <!-- 로그인 상태가 아닌 경우에 보이는 내용 -->
        <div th:unless="${/checkLogin}">
            <p>비로그인 상태입니다. 로그인 후에 장바구니를 이용하실 수 있습니다.</p>
    <!-- 쿠키에서 읽어온 장바구니 정보 표시 -->
    <table>
        <tr>
            <th>상품명</th>
            <th>수량</th>
            <!-- 기타 필요한 컬럼들 -->
        </tr>
        <tr th:each="cartItem : ${cartItems}">
            <td th:text="${cartItem.product.product_name}"></td>
            <td th:text="${cartItem.product.product_name}"></td>
            <td th:text="${cartItem.quantity}"></td>
            <!-- 기타 필요한 컬럼들 -->
        </tr>
    </table>
        </div>
    </div>
    
    
    
	<!-- popper js -->
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
		crossorigin="anonymous">
	</script>
	<!-- bootstrap js -->
	<script src="/js/bootstrap.js"></script>
	<!-- owl slider -->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
	</script>
	<!-- isotope js -->
	<script
		src="https://unpkg.com/isotope-layout@3.0.4/dist/isotope.pkgd.min.js"></script>
	<!-- nice select -->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
	<!-- custom js -->
	<script src="/js/custom.js"></script>
	<!-- Google Map -->
	<script
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCh39n5U-4IoWpsVGUHWdqB6puEkhRLdmI&callback=myMap">
	</script>
	<link rel="stylesheet" th:href="@{/css/product.css}">
    
</body>
</html>
